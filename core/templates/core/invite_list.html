{% extends "layout.html" %}

{% load boilerplate core_tags i18n %}

{% block title %}{{ object_list|queryset_model_name_plural }}{% endblock title %}

{% block breadcrumb %}
    <ol class="breadcrumb">
        <li><a href="{% site_url %}">{% trans "Home" %}</a></li>
        <li><a href="{% url 'core:company_detail' %}">{{ company }}</a></li>
        <li class="active"><strong>{{ object_list|queryset_model_name_plural }}</strong></li>
    </ol>
{% endblock breadcrumb %}

{% block page_header %}
    <h2>{{ object_list|queryset_model_name_plural }}</h2>
{% endblock %}

{% block page_actions %}
    {% include "common/options-buttons.html" with size='size-default' %}
{% endblock %}

{% block content %}
    <div class="tabs-container">
        {% include "core/common/tabs.html" %}

        <div class="tab-content">
            <div role="tabpanel" class="tab-pane active">
              <div class="panel-body table-responsive">
                  <table class="table table-striped table-hover">
                      <thead>
                          <tr>
                              <th>{% trans "Name" %}</th>
                              <th>{% trans "Email" %}</th>
                              <th>{% trans "Creation date" %}</th>
                              <th class="text-center">{% trans "Sent" %}</th>
                              <th>{% trans "User" %}</th>
                              <th class="text-center">{% trans "Active" %}</th>
                              <th class="text-right">{% trans "Options" %}</th>
                          </tr>
                      </thead>
                      <tbody>
                          {% for object in object_list %}
                              <tr>
                                  <td>{{ object.name }}</td>
                                  <td>{{ object.email }}</td>
                                  <td>{{ object.date_creation }}</td>
                                  <td class="text-center">
                                      {% if object.date_sent %}
                                        <span class="glyphicon glyphicon-ok text-success"></span>
                                      {% else %}
                                        <span class="glyphicon glyphicon-remove text-danger"></span>
                                      {% endif %}
                                  </td>
                                  <td>{{ object.user|default_if_none:'' }}</td>
                                  <td class="text-center">
                                      <span class="glyphicon glyphicon-{{ object.is_active|yesno:'ok,remove' }} text-{{ object.is_active|yesno:'success,danger' }}"></span>
                                  </td>
                                  <td class="text-right">
                                      {% include "common/options-buttons.html" with action_list=None %}
                                  </td>
                              </tr>
                          {% empty %}
                                <tr>
                                    <td colspan="7" class="text-muted text-center">
                                        {% trans "No information." %}
                                    </td>
                                </tr>
                          {% endfor %}
                      </tbody>
                  </table>
              </div>

              {% include "common/pagination.html" %}
          </div>
        </div>
    </div>
{% endblock content %}
